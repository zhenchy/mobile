<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Screen Box — Input 4 Digit (Futuristik)</title>
  <style>
    :root{
      --bg:#070712;
      --panel:#0f1724;
      --accent:#21d4ff; /* neon cyan */
      --accent-2:#8a2be2; /* violet */
      --muted:#8b95a8;
      --glass: rgba(255,255,255,0.04);
      --glass-2: rgba(255,255,255,0.02);
      --radius:20px;
      --kbd-radius:14px;
      --gap:14px;
      --font-sans: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:var(--font-sans);
      background: radial-gradient(1200px 600px at 10% 20%, rgba(34,197,94,0.03), transparent 6%),
                  radial-gradient(900px 400px at 90% 80%, rgba(59,130,246,0.03), transparent 6%),
                  linear-gradient(180deg,var(--bg),#041225 60%);
      color:#e6eef8;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:20px;
    }

    .shell{
      width:min(720px,96vw);
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius:28px;
      padding:28px;
      box-shadow: 0 10px 30px rgba(2,6,23,0.6), inset 0 1px 0 rgba(255,255,255,0.02);
      border: 1px solid rgba(255,255,255,0.03);
      backdrop-filter: blur(8px) saturate(120%);
    }

    .header{
      display:flex;align-items:center;gap:18px;margin-bottom:18px;
    }
    .logo{
      width:64px;height:64px;border-radius:14px;background:linear-gradient(135deg,var(--accent),var(--accent-2));
      box-shadow: 0 6px 18px rgba(33,212,255,0.12), 0 2px 8px rgba(138,43,226,0.06);
      display:flex;align-items:center;justify-content:center;font-weight:700;font-size:18px;color:#02131b;
      letter-spacing:0.6px;
    }
    .title{font-size:20px;font-weight:700;line-height:1;color:#dff7ff}
    .subtitle{font-size:12px;color:var(--muted);margin-top:4px}

    .panel{
      display:grid;grid-template-columns:1fr 340px;gap:18px;align-items:center;
    }

    /* Left area: display & instructions */
    .display-area{
      padding:22px;border-radius:18px;background:linear-gradient(180deg,var(--glass),var(--glass-2));
      border:1px solid rgba(255,255,255,0.02);min-height:220px;display:flex;flex-direction:column;justify-content:center;gap:12px;
    }
    .prompt{font-size:14px;color:var(--muted)}
    .codebox{
      display:flex;gap:10px;justify-content:center;align-items:center;padding:18px;border-radius:14px;
      background:linear-gradient(90deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));
      box-shadow: 0 6px 18px rgba(2,6,23,0.35), inset 0 1px 0 rgba(255,255,255,0.02);
    }
    .digit{
      width:64px;height:84px;border-radius:10px;background:transparent;border:1px solid rgba(255,255,255,0.04);
      display:flex;align-items:center;justify-content:center;font-size:34px;font-weight:800;letter-spacing:6px;
      color:transparent; -webkit-text-stroke: 1px rgba(33,212,255,0.6);
      position:relative;overflow:hidden;
    }
    .digit.filled{color:#e6fbff; -webkit-text-stroke:0;}
    .digit::after{
      content:'';position:absolute;inset:0;background:linear-gradient(180deg, rgba(33,212,255,0.06), transparent);
      opacity:0;transition:opacity .25s ease;
    }
    .digit.filled::after{opacity:.18}

    .helper{font-size:12px;color:var(--muted);text-align:center}

    /* Right area: keypad */
    .keypad{
      padding:18px;border-radius:18px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border:1px solid rgba(255,255,255,0.02);
      display:flex;flex-direction:column;gap:12px;align-items:stretch;
    }
    .krow{display:flex;gap:var(--gap);}
    .key{
      flex:1;height:78px;border-radius:var(--kbd-radius);display:flex;align-items:center;justify-content:center;font-size:28px;font-weight:700;
      user-select:none;-webkit-user-select:none;-ms-user-select:none;touch-action:manipulation;
      background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));
      border:1px solid rgba(255,255,255,0.03);
      box-shadow: 0 8px 20px rgba(2,6,23,0.35), inset 0 -6px 30px rgba(0,0,0,0.25);
      transition:transform .08s ease, box-shadow .12s ease, background .12s ease;
      color:#dff7ff;
    }
    .key:active{transform:translateY(3px) scale(.995)}
    .key--accent{
      background:linear-gradient(90deg,var(--accent),var(--accent-2));
      color:#02131b;font-size:22px;box-shadow:0 10px 30px rgba(33,212,255,0.12);
    }
    .key--wide{flex:2}
    .small{font-size:12px;color:var(--muted)}

    .actions{display:flex;gap:10px;margin-top:6px}
    .btn{flex:1;padding:12px 10px;border-radius:12px;background:transparent;border:1px solid rgba(255,255,255,0.03);font-weight:700}
    .btn--ok{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#02131b}

    /* hint neon line */
    .neon-line{height:2px;background:linear-gradient(90deg,transparent,var(--accent),transparent);margin-top:12px;border-radius:4px}

    /* responsive */
    @media (max-width:820px){
      .panel{grid-template-columns:1fr;}
      .keypad{order:2}
      .display-area{order:1}
    }

    /* accessibility focus */
    .key:focus{outline:3px solid rgba(33,212,255,0.08)}

    /* subtle animated background in digits */
    .digit .glow{position:absolute;inset:0;pointer-events:none;background:linear-gradient(120deg, rgba(33,212,255,0.06), rgba(138,43,226,0.06));mix-blend-mode:screen;opacity:0;transition:opacity .25s}
    .digit.filled .glow{opacity:1}

    /* Simple modal */
    .modal-backdrop{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(2,6,23,0.6);z-index:9999}
    .modal{width:min(520px,92vw);background:linear-gradient(180deg,#071227,#0c1930);border-radius:14px;padding:18px;border:1px solid rgba(255,255,255,0.04);box-shadow:0 20px 60px rgba(2,6,23,0.7);}
    .modal h3{margin:0 0 6px 0;color:var(--accent)}
    .modal p{margin:0;color:#d7eefa}
    .modal .modal-actions{display:flex;gap:10px;margin-top:14px}
    .modal .btn{padding:10px 12px}
    .modal-show{display:flex}

  </style>
</head>
<body>
  <div class="shell" role="application" aria-label="Screen box input 4 digit">
    <div class="header">
      <div class="logo">SB</div>
      <div>
        <div class="title">ScreenBox — Masukkan 4 Digit</div>
        <div class="subtitle">Sentuh keypad di sebelah untuk memasukkan kode</div>
      </div>
    </div>

    <div class="panel">
      <div class="display-area">
        <div class="prompt">Masukkan PIN / Kode Akses</div>
        <div class="codebox" aria-hidden="false" id="display">
          <div class="digit" id="d0" aria-label="digit 1" data-index="0"><span class="glow"></span></div>
          <div class="digit" id="d1" aria-label="digit 2" data-index="1"><span class="glow"></span></div>
          <div class="digit" id="d2" aria-label="digit 3" data-index="2"><span class="glow"></span></div>
          <div class="digit" id="d3" aria-label="digit 4" data-index="3"><span class="glow"></span></div>
        </div>
        <div class="helper">Layar sentuh siap. Hapus menggunakan tombol ⌫. Tekan OK untuk mengirim.</div>
        <div class="neon-line" aria-hidden="true"></div>
      </div>

      <div class="keypad" role="group" aria-label="Virtual numeric keypad">
        <div class="krow">
          <button class="key" data-key="1" aria-label="1">1</button>
          <button class="key" data-key="2" aria-label="2">2</button>
          <button class="key" data-key="3" aria-label="3">3</button>
        </div>
        <div class="krow">
          <button class="key" data-key="4" aria-label="4">4</button>
          <button class="key" data-key="5" aria-label="5">5</button>
          <button class="key" data-key="6" aria-label="6">6</button>
        </div>
        <div class="krow">
          <button class="key" data-key="7" aria-label="7">7</button>
          <button class="key" data-key="8" aria-label="8">8</button>
          <button class="key" data-key="9" aria-label="9">9</button>
        </div>
        <div class="krow">
          <button class="key key--wide" data-key="clear" aria-label="Bersihkan">Clear</button>
          <button class="key" data-key="0" aria-label="0">0</button>
          <button class="key" data-key="back" aria-label="Backspace">⌫</button>
        </div>
        <div class="actions">
          <button class="btn" id="btn-aux">Batal</button>
          <button class="btn btn--ok" id="btn-ok">OK</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal -->
  <div id="modal" class="modal-backdrop" role="dialog" aria-modal="true" aria-labelledby="modal-title" aria-hidden="true">
    <div class="modal" role="document">
      <h3 id="modal-title">Status Kode</h3>
      <p id="modal-message">...</p>
      <div class="modal-actions">
        <button class="btn" id="modal-close">Tutup</button>
      </div>
    </div>
  </div>

  <script>
    // Fokus ke input virtual, manage internal state
    (function(){
      const digits = ['', '', '', ''];
      const max = 4;
      const SUCCESS_CODE = '7882'; // kode yang diminta
      const displayEls = Array.from({length:4}, (_,i)=>document.getElementById('d'+i));
      const keys = document.querySelectorAll('.key');
      const btnOk = document.getElementById('btn-ok');
      const btnAux = document.getElementById('btn-aux');
      const modal = document.getElementById('modal');
      const modalMessage = document.getElementById('modal-message');
      const modalClose = document.getElementById('modal-close');

      function render(){
        for(let i=0;i<4;i++){
          const el = displayEls[i];
          if(digits[i]){
            el.classList.add('filled');
            // show bullet instead of real number to avoid shoulder-surfing
            el.textContent = '•';
          }else{
            el.classList.remove('filled');
            el.textContent = '';
          }
        }
      }

      function pushDigit(d){
        for(let i=0;i<max;i++){
          if(!digits[i]){ digits[i]=d; render(); playTap(); triggerHaptic(); checkAutoSend(); return; }
        }
        // if full, replace last
        digits[max-1]=d; render(); playTap(); triggerHaptic(); checkAutoSend();
      }

      function popDigit(){
        for(let i=max-1;i>=0;i--){ if(digits[i]){ digits[i]=''; render(); playErrorSound(); triggerHaptic(30); return; } }
      }

      function clearAll(){ for(let i=0;i<max;i++)digits[i]=''; render(); }

      function currentValue(){ return digits.join(''); }

      function isComplete(){ return digits.every(d=>d); }

      function checkAutoSend(){
        if(isComplete()){
          // small delay to allow UX
          setTimeout(()=>submitPin(),200);
        }
      }

      function submitPin(){
        const pin = currentValue();
        // visual success
        document.body.animate([{filter:'brightness(1)'},{filter:'brightness(1.06)'}],{duration:180,iterations:1});
        console.log('PIN entered:', pin);

        if(pin === SUCCESS_CODE){
          showModal('Berhasil', 'Kode benar — box terbuka.');
          playSuccess(); triggerHaptic(60);
        } else {
          showModal('Salah Kode', 'Kode tidak dikenali. Silakan coba lagi.');
          playErrorSound(); triggerHaptic(40);
        }

        // reset after showing result (optional UX)
        // clearAll();
      }

      // Modal control
      function showModal(title, message){
        document.getElementById('modal-title').textContent = title;
        modalMessage.textContent = message;
        modal.classList.add('modal-show');
        modal.setAttribute('aria-hidden', 'false');
      }
      function hideModal(){
        modal.classList.remove('modal-show');
        modal.setAttribute('aria-hidden', 'true');
      }

      modalClose.addEventListener('click', ()=>{ hideModal(); });
      modal.addEventListener('pointerdown', (e)=>{ if(e.target === modal) hideModal(); });

      // Key handlers
      keys.forEach(k=>{
        k.addEventListener('pointerdown', e=>{
          e.preventDefault();
          const key = k.dataset.key;
          k.classList.add('active');
          setTimeout(()=>k.classList.remove('active'),120);
          if(key === 'back') popDigit();
          else if(key === 'clear') clearAll();
          else pushDigit(key);
        });
      });

      btnOk.addEventListener('click', ()=>{
        if(isComplete()) submitPin(); else { flashError(); playErrorSound(); }
      });
      btnAux.addEventListener('click', ()=>{ clearAll(); console.log('User cancelled'); });

      // Small feedbacks — audio & vibration
      const audioContext = (window.AudioContext || window.webkitAudioContext) ? new (window.AudioContext || window.webkitAudioContext)() : null;
      function playTone(freq, len=0.06){ if(!audioContext) return; const o=audioContext.createOscillator(); const g=audioContext.createGain(); o.type='sine'; o.frequency.value=freq; g.gain.value=0.0001; o.connect(g); g.connect(audioContext.destination); o.start(); g.gain.exponentialRampToValueAtTime(0.08, audioContext.currentTime + 0.01); g.gain.exponentialRampToValueAtTime(0.0001, audioContext.currentTime + len); o.stop(audioContext.currentTime + len + 0.02); }
      function playTap(){ playTone(880,0.03); }
      function playSuccess(){ playTone(1320,0.08); setTimeout(()=>playTone(1040,0.07),80); }
      function playErrorSound(){ playTone(220,0.11); }

      function triggerHaptic(duration=20){ if(navigator.vibrate) navigator.vibrate(duration); }

      function flashError(){
        displayEls.forEach(el=>el.animate([{transform:'translateY(0)'},{transform:'translateY(-6px)'},{transform:'translateY(0)'}],{duration:220}));
      }

      // Accessibility: allow hardware keyboard input
      window.addEventListener('keydown', (ev)=>{
        if(ev.key >= '0' && ev.key <= '9'){ pushDigit(ev.key); ev.preventDefault(); }
        else if(ev.key === 'Backspace'){ popDigit(); ev.preventDefault(); }
        else if(ev.key === 'Enter'){ if(isComplete()) submitPin(); else { flashError(); playErrorSound(); } }
      });

      // Init
      render();

      // Expose API for integration (example)
      window.screenbox = {
        getValue: currentValue,
        clear: clearAll,
        submit: submitPin,
        showModal, hideModal
      };

      // security: disable copy/paste selection
      document.addEventListener('copy', e=>e.preventDefault());
      document.addEventListener('cut', e=>e.preventDefault());
      document.addEventListener('contextmenu', e=>e.preventDefault());

    })();
  </script>
</body>
</html>